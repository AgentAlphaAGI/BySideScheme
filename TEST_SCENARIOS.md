# 🧪 在旁术 (BySideScheme) 炸裂测试场景集

本文档提供三个**高难度、高复杂度**的职场测试场景，旨在全方位压测系统的**局势感知**、**长期记忆联动**、**多角色博弈**以及**策略生成**能力。

---

## 场景一：晋升生死局 —— “绝地反击”

**🔥 场景背景**：
你正处于 P6 升 P7 的关键**晋升窗口期**。你的核心项目“阿波罗”在上线前夜突然崩溃，原因是一个你曾多次预警但被忽视的第三方服务挂了。隔壁组长 "Alex"（你的竞争对手）正在大群里阴阳怪气，而你的直属老板 "David" 是个极度**风险厌恶**且**耳根子软**的人。

**🎯 测试目标**：验证系统能否在“高压+敌对+背锅”的极端局势下，利用历史记忆（预警证据）进行**防守反击**。

### 1. 注入极端局势 (Situation Setup)

```json
// POST /situation/update
{
  "user_id": "user_hero_001",
  "situation": {
    "career_type": "互联网大厂",
    "current_level": "P6",
    "target_level": "P7",
    "promotion_window": true,
    "current_phase": "动荡期 (Crisis)",
    "personal_goal": "保住晋升资格，通过危机处理展现Leadership",
    "stakeholders": [
      {
        "name": "David",
        "role": "直属领导",
        "style": "风险厌恶型，耳根子软，怕担责",
        "relationship": "摇摆不定",
        "influence_level": "High"
      },
      {
        "name": "Alex",
        "role": "隔壁组长 (竞争对手)",
        "style": "笑面虎，抢功甩锅型",
        "relationship": "敌对",
        "influence_level": "Medium"
      },
      {
        "name": "Sarah",
        "role": "CTO (大老板)",
        "style": "结果导向，只看数据，讨厌借口",
        "relationship": "中立",
        "influence_level": "High"
      }
    ]
  }
}
```

### 2. 危机爆发与策略生成 (Advisor)

**输入事实**：
> "阿波罗项目今晚宕机了，是因为服务商X的数据异常。Alex 在大群里@我 说'怎么核心链路这么脆弱'。但我两周前就在周会邮件里发过服务商X不稳定的风险评估，当时 David 说先上线再说。"

**预期“炸裂”表现**：
1.  **记忆联动**：系统应检索到（或提示你利用）“两周前的周会邮件”作为核心证据。
2.  **局势判断**：识别出 Alex 意在破坏晋升，David 可能会甩锅。
3.  **策略生成**：
    *   **对上（David）**：给 David 递刀子——“老板，幸亏您当时让我做了降级预案（其实是你做的，但归功给他），现在我们可以马上切备用链路，变成一次成功的‘故障演练’。”
    *   **对敌（Alex）**：在群里回复——“@Alex 感谢关注，正如两周前风险评审会同步的（附邮件截图），我们已触发Plan B，目前业务无损。顺便借此机会验证了我们的高可用架构。”

---

## 场景二：跨部门撕逼 —— “太极宗师”

**🔥 场景背景**：
产品经理 "Jessica" 是老板的红人，需求朝令夕改。周五临下班她又提了一个“小改动”，实际上需要重构核心逻辑。如果你拒绝，她会告状说你“缺乏拥抱变化的精神”；如果你接受，周末就废了且上线风险巨大。

**🎯 测试目标**：验证系统在**多角色模拟器**中，如何通过**流式推演**和**画像校准**，教你优雅地“拒绝”并让对方无话可说。

### 1. 启动模拟器 (Simulator Start)

```json
// POST /simulator/start
{
  "user_id": "user_taiji_001",
  "user_name": "Me",
  "people": [
    {
      "kind": "colleague",
      "name": "Jessica",
      "title": "产品经理",
      "persona": "强势，喜欢用'用户价值'压人，不懂技术但喜欢指挥细节。老板红人。",
      "engine": "deepseek"
    },
    {
      "kind": "leader",
      "name": "Boss",
      "title": "部门总监",
      "persona": "和稀泥，看重团队和谐，但也怕上线出Bug。",
      "engine": "qwen3"
    }
  ]
}
```

### 2. 模拟对话 (Chat)

**你的输入**：
> "Jessica，这个改动涉及核心订单状态机，周五改风险太大，我建议放到下个版本。"

**预期“炸裂”表现 (模拟器输出)**：
*   **Jessica (AI)**：会立刻跳脚——"但这可是Q3的重点体验优化！用户等不了！技术不能总是因为'难'就推脱业务价值吧？@Boss 你看呢？"
*   **实时洞察 (Analysis Panel)**：
    *   **风险预警**：检测到 Jessica 正在进行“道德绑架”（用业务价值压技术）。
    *   **画像校准**：更新 Jessica 画像 -> "擅长利用老板在场时施压"。
    *   **策略提示**：建议不要说“技术难”，要说“保障上线稳定性是最大的业务价值”。
*   **Boss (AI)**：可能会犹豫——"Jessica 说的也有道理，但是... Me，你评估下如果强行上会有什么后果？"

---

## 场景三：向上管理 —— “情绪操盘手”

**🔥 场景背景**：
你刚得知两个消息：好消息是核心指标提升了 20%，坏消息是某个次要功能因为 Bug 即使下线了。你的老板 "Michael" 是个**控制欲极强**且**情绪不稳定**的人，今天是周一（他通常心情最差的时候）。

**🎯 测试目标**：验证系统如何利用**长期洞察 (Insight)** 和**情绪感知**，帮你设计完美的汇报结构。

### 1. 记忆与洞察预设 (假设已有)

系统记忆库中已存在洞察：
*   *"Insight: Michael 周一上午通常因为大老板周会而焦虑，此时汇报坏消息大概率被暴怒波及。"*
*   *"Insight: Michael 喜欢先听结论，且极其看重'数据增长'，数据好时对Bug容忍度较高。"*

### 2. 策略生成 (Advisor)

**输入事实**：
> "今天要向 Michael 汇报：核心指标涨了20%，但抽奖功能有Bug下线了。今天是周一上午。"

**预期“炸裂”表现**：
1.  **时机阻断**：系统**强烈建议**不要现在（周一上午）汇报坏消息，或者调整顺序。
2.  **话术结构 (汉堡包法)**：
    *   **第一层（上）**：直接抛出 20% 增长的喜讯，利用数据安抚他的焦虑。
    *   **第二层（中）**：轻描淡写地带过 Bug —— "为了保障这个核心指标的增长，我们主动熔断了非核心的抽奖功能（其实是Bug下线），集中资源保增长。" —— **把事故包装成决策**。
    *   **第三层（下）**：再次强调增长趋势和下一步扩大战果的计划。
3.  **决策解释**：系统会引用之前的 Insight 告诉你：“根据历史数据，周一上午 Michael 处于高压状态，唯有亮眼的数据能让他冷静。此时将 Bug 描述为‘为了保数据的战术性放弃’最为安全。”
